Codewire Relay has been deployed!

1. Get the relay URL:
{{- if .Values.ingress.enabled }}
  Your relay is available at: {{ .Values.relay.baseURL }}
{{- else }}
  kubectl port-forward svc/{{ include "codewire-relay.fullname" . }}-http 8080:8080 -n {{ .Release.Namespace }}
  Relay URL: http://localhost:8080
{{- end }}

2. Get the SSH endpoint:
{{- if eq .Values.ssh.service.type "LoadBalancer" }}
  export SSH_IP=$(kubectl get svc {{ include "codewire-relay.fullname" . }}-ssh -n {{ .Release.Namespace }} -o jsonpath='{.status.loadBalancer.ingress[0].ip}')
  echo "SSH endpoint: ${SSH_IP}:2222"
  NOTE: It may take a few minutes for the LoadBalancer IP to be assigned.
{{- else }}
  SSH service type: {{ .Values.ssh.service.type }}
  kubectl get svc {{ include "codewire-relay.fullname" . }}-ssh -n {{ .Release.Namespace }}
{{- end }}

3. Get the auth token:
{{- if eq .Values.relay.authMode "token" }}
  kubectl get secret {{ include "codewire-relay.fullname" . }} -n {{ .Release.Namespace }} -o jsonpath='{.data.auth-token}' | base64 -d
{{- else }}
  Auth mode is "{{ .Values.relay.authMode }}" â€” no token required.
{{- end }}

4. Connect a node:
  cw setup --relay-url={{ .Values.relay.baseURL }}

  Or with a token:
  cw setup --relay-url={{ .Values.relay.baseURL }} --token=<auth-token>

5. SSH into a connected node:
  ssh <node-name>@<SSH_IP> -p 2222
